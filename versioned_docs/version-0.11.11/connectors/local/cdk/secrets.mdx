---
sidebar_position: 6
title: "Secrets"
description: "Manage sensitive information in your Connector using Secrets."
---

> This section assumes `my-connector` project has been [generated](/docs/connectors/local/cdk/generate).

Connectors often connect to external entities such as `databases`, `message brokers`, or `APIs` that require a confidential authentication key.

Connectors offers this facility through [secrets].

### Use Secrets

Deploy connectors with a `--secrets` flag to pass a file with the secrets definitions:


```bash copy="fl"
$ cdk deploy start --config sample-config.yaml --secrets secrets.txt
```

In the secrets file, you should define a secret per line in the format `SECRET_NAME=SECRET_VALUE`:


```bash
SECRET_NAME=SECRET_VALUE
SECRET_NAME_2=SUPER_SECRET_VALUE
```

Code to indicate that a connector config parameter can contain a secret should use the `SecretString` type. This allows the parameter to receive secrets which are not printable to logs.

```rust
use fluvio_connector_common::{connector, secret::SecretString};

#[derive(Debug)]
#[connector(config, name = "myconnector")]
pub(crate) struct MyConnectorConfig {
    /// A parameter receiving a secret string
    pub a_param: SecretString,
    // -- snip --
}
```

This allows a config file to provision secrets to the connector.
```yaml
# config-example.yaml
apiVersion: 0.1.0
meta:
  version: 0.3.0
  name: instancename
  type: my-connector
  topic: atopicname
  
  secrets:
    - name: SECRET_NAME
myconnector:
  a_param: "${{ secrets.SECRET_NAME }}_${{ secrets.SECRET_NAME_2 }}"

```

More extensive examples of secrets in connectors can be seen in use with the [Http Source](/docs/connectors/catalog/inbound/http) connector and its repo https://github.com/infinyon/http-source-connector.

In the [next section](/docs/connectors/local/cdk/publish) we'll publish our connector to the Hub.

### Steps

1. [Generate a Connector](/docs/connectors/local/cdk/generate)
2. [Build and Test](/docs/connectors/local/cdk/build)
3. [Start and Shutdown](/docs/connectors/local/cdk/start-shutdown)
4. [Troubleshooting](/docs/connectors/local/cdk/secrets)
5. **[Secrets](/docs/connectors/local/cdk/secrets)**
6. [Publish to Connector Hub](/docs/connectors/local/cdk/publish)
7. [Use Examples in Github](/docs/connectors/local/cdk/github-examples)
